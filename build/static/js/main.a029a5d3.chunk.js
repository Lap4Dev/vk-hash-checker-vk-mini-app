(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{244:function(e,t,n){},250:function(e,t){},252:function(e,t){},263:function(e,t){},265:function(e,t){},292:function(e,t){},294:function(e,t){},295:function(e,t){},300:function(e,t){},302:function(e,t){},308:function(e,t){},310:function(e,t){},329:function(e,t){},341:function(e,t){},344:function(e,t){},347:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(47),r=n.n(i),a=n(15),s=n.n(a),o=n(29),l=n(75),u=n(41),d=n.n(u),j=n(10),f=(n(242),n(9)),p=function(e){var t=e.id,n=e.go,c=e.fetchedUser;return Object(f.jsxs)(j.j,{id:t,children:[Object(f.jsx)(j.k,{children:"Example"}),c&&Object(f.jsx)(j.h,{header:Object(f.jsx)(j.i,{mode:"secondary",children:"User Data Fetched with VK Bridge"}),children:Object(f.jsx)(j.e,{before:c.photo_200?Object(f.jsx)(j.c,{src:c.photo_200}):null,description:c.city&&c.city.title?c.city.title:"",children:"".concat(c.first_name," ").concat(c.last_name)})}),Object(f.jsx)(j.h,{header:Object(f.jsx)(j.i,{mode:"secondary",children:"Navigation Example"}),children:Object(f.jsx)(j.g,{children:Object(f.jsx)(j.d,{stretched:!0,size:"l",mode:"secondary",onClick:n,"data-to":"persik",children:"Show me the Persik, please"})})})]})},h=n.p+"static/media/persik.ae9f0072.png",b=(n(244),function(e){return Object(f.jsxs)(j.j,{id:e.id,children:[Object(f.jsx)(j.k,{left:Object(f.jsx)(j.l,{onClick:e.go,"data-to":"home"}),children:"Persik"}),Object(f.jsx)("img",{className:"Persik",src:h,alt:"Persik The Cat"})]})}),O=n(134),v=n(245);function x(e,t){var n,c=[],i=function(e,t){"string"===typeof t&&("sign"===e?n=t:e.startsWith("vk_")&&c.push({key:e,value:t}))};if("string"===typeof e){var r,a=e.startsWith("?")?e.slice(1):e,s=Object(O.a)(a.split("&"));try{for(s.s();!(r=s.n()).done;){var l=r.value.split("="),u=Object(o.a)(l,2);i(u[0],u[1])}}catch(h){s.e(h)}finally{s.f()}}else for(var d=0,j=Object.keys(e);d<j.length;d++){var f=j[d];i(f,e[f])}if(!n||0===c.length)return!1;var p=c.sort((function(e,t){return e.key.localeCompare(t.key)})).reduce((function(e,t,n){var c=t.key,i=t.value;return e+(0===n?"":"&")+"".concat(c,"=").concat(encodeURIComponent(i))}),"");return v.createHmac("sha256",t).update(p).digest().toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=$/,"")===n}var m="W11Q4F7GS2721s7cJWEi";function g(){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(d.a.mark((function e(){var t,n,c,i,r,a,o,l,u,j,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=globalThis.location.href,!x(t.slice(t.indexOf("?")+1),m)){e.next=14;break}return e.next=5,s.a.send("VKWebAppGetUserInfo");case 5:for(f in i=e.sent,r=i.id,a=null===i||void 0===i?void 0:i.first_name,o=null===i||void 0===i?void 0:i.last_name,l=null===i||void 0===i||null===(n=i.country)||void 0===n?void 0:n.title,u=null===i||void 0===i||null===(c=i.city)||void 0===c?void 0:c.title,j=[],console.log(r,a,o,l,u,j),i)f.includes("photo")&&j.push(i[f]);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g();var k=function(){var e=Object(c.useState)("bright_light"),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)("home"),a=Object(o.a)(r,2),u=a[0],h=a[1],O=Object(c.useState)(null),v=Object(o.a)(O,2),x=v[0],m=v[1],y=Object(c.useState)(Object(f.jsx)(j.m,{size:"large"})),k=Object(o.a)(y,2),_=k[0],w=k[1];Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,g(),m(t),w(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.subscribe((function(e){var t=e.detail,n=t.type,c=t.data;"VKWebAppUpdateConfig"===n&&i(c.scheme)})),function(){e.apply(this,arguments)}()}),[]);var W=function(e){h(e.currentTarget.dataset.to)};return Object(f.jsx)(j.f,{scheme:n,children:Object(f.jsx)(j.a,{children:Object(f.jsx)(j.b,{children:Object(f.jsx)(j.o,{popout:_,children:Object(f.jsx)(j.n,{children:Object(f.jsxs)(j.p,{activePanel:u,children:[Object(f.jsx)(p,{id:"home",fetchedUser:x,go:W}),Object(f.jsx)(b,{id:"persik",go:W})]})})})})})})};s.a.send("VKWebAppInit"),r.a.render(Object(f.jsx)(k,{}),document.getElementById("root"))}},[[347,1,2]]]);
//# sourceMappingURL=main.a029a5d3.chunk.js.map